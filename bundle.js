(()=>{"use strict";(()=>{function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){return e.filter((function(e){return e===t})).length}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t,n=e.target.id.split("-")[0];null===(t=e.dataTransfer)||void 0===t||t.setData("text/plain",n),e.dataTransfer.effectAllowed="move"}function i(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function c(e,t){var n;e.preventDefault();var a=e.dataTransfer.getData("text/plain");(n=e.target.classList).remove.apply(n,r(t)),e.target.classList.add(a,"current-target")}function d(e){var t;(t=e.target.classList).remove.apply(t,r(e.target.classList.value.split(" "))),e.target.classList.add("target")}function l(e,t){for(var n=0;n<e.length;n++)e[n].addEventListener("dragover",i,!0),e[n].addEventListener("drop",(function(e){return c(e,t)})),e[n].addEventListener("mousedown",d)}var u;function s(e,t){var n=document.createElement("div");n.classList.add("line"),n.id="line-".concat(e);var r=document.createElement("div");r.classList.add("red-indicator-container");var a=document.createElement("div");a.classList.add("targets-container");for(var o=0;o<4;o++){var i=document.createElement("div");i.classList.add("target"),a.appendChild(i)}var c=document.createElement("div");c.classList.add("white-indicator-container"),n.appendChild(r),n.appendChild(a),n.appendChild(c),t.appendChild(n)}function m(e,t,n){for(var r=0;r<n;r++){var a=document.createElement("div");switch(e){case u.red:a.classList.add("red-indicator");break;case u.white:a.classList.add("white-indicator")}t.appendChild(a)}}!function(e){e[e.white=0]="white",e[e.red=1]="red"}(u||(u={}));var f=document.getElementById("game-container"),v=[document.getElementById("blue-piece"),document.getElementById("red-piece"),document.getElementById("green-piece"),document.getElementById("yellow-piece"),document.getElementById("orange-piece"),document.getElementById("black-piece"),document.getElementById("white-piece"),document.getElementById("maroon-piece")];v.forEach((function(e){return e.addEventListener("dragstart",o)}));var p,y,g,h,E,w=v.map((function(e){return e.id.split("-")[0]})),b=document.getElementById("verify"),I=document.getElementById("restart"),L=document.getElementById("win-restart"),A=document.getElementById("loose-restart"),B=document.getElementById("win"),S=document.getElementById("loose"),C=0;function T(){var t;C=1,t=w,E=e(Array(4)).map((function(){return t[Math.floor(Math.random()*t.length)]})),f.innerHTML="",s(C,f),p=document.getElementById("line-".concat(C)),y=p.querySelectorAll("div.targets-container > div.target"),g=p.querySelector("div.red-indicator-container"),h=p.querySelector("div.white-indicator-container"),l(y,w)}b.onclick=function(){var t;try{t=function(e,t){return Array.from(e).map((function(e){var n=e.className.split(" ").filter((function(e){return t.includes(e)}))[0];if(!n)throw new Error("Combination is not complete");return n}))}(y,w)}catch(e){return void alert("Mettez des pions dans chaque emplacement de la ligne")}var r=function(t,r){var a=[],o=[];return t.forEach((function(t,i){if(r[i]===t)return a.push(t),void(a.filter((function(e){return e===t})).length===n(r,t)&&(o=o.filter((function(e){return e!==t}))));r.includes(t)&&[].concat(a,e(o)).filter((function(e){return e===t})).length<n(r,t)&&o.push(t)})),{goodPlacement:a.length,wrongPlacement:o.length}}(t,E),a=r.goodPlacement,o=r.wrongPlacement;if(m(u.red,g,a),m(u.white,h,o),4===a)return document.getElementById("nb-round").innerHTML="Tu as trouvÃ© la combinaison en ".concat(C," tours"),void(B.style.display="flex");if(12!==C)!function(e){for(var t=0;t<e.length;t++)e[t].removeEventListener("dragover",i,!0),e[t].removeEventListener("mousedown",d),e[t].classList.remove("current-target")}(y),s(++C,f),p=document.getElementById("line-".concat(C)),y=p.querySelectorAll("div.targets-container > div.target"),g=p.querySelector("div.red-indicator-container"),h=p.querySelector("div.white-indicator-container"),l(y,w);else{for(var c=document.getElementById("solution-combination"),v=0;v<E.length;v++){var b=document.createElement("div");b.classList.add("piece",E[v]),c.appendChild(b)}S.style.display="flex"}},I.onclick=T,L.onclick=function(e){e.preventDefault(),B.style.display="none",T()},A.onclick=function(e){e.preventDefault(),S.style.display="none",T()},T()})()})();
//# sourceMappingURL=bundle.js.map